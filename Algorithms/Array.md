# 数据结构中的数组
## 数组定义 :wave:
##### 数组（Array）是一种线性表数据结构。它用一组连续的内存空间，来存储一组具有相同类型的数据。

## 数组中的特性:book:
##### 优点：数组拥有着连续的内存空间和相同类型的数据，方便进行随机访问。
##### 缺点：由于内存空间连续，让数组的很多操作变得非常低效，比如要想在数组中删除、插入一个数据，为了保证连续性，就需要做大量的数据搬移工作。
## 数组是如何实现根据下标随机访问数组元素的:question:
#### 公式：

```cpp
a[i]_address = base_address + i * data_type_size
```

#### 解释：
##### 由于数组的内存空间连续，只要通过内存位置的偏移，就可以找到相应的位置从而实现下标随机访问。通过公式也可以知道为什么很多语言中数组的下标是从0开始，如果是从1开始的话，就有以下代码：

```cpp
a[i]_address = base_address + （i - 1 ） * data_type_size
```

##### 比起上面的代码多了一个减法操作，增加了消耗。（真实原因不得而知，这种解释我认为是最符合实际的，也是最好记忆和理解的）

## 低效的插入与删除以及改良思路:dancer:
##### 为了保持数组在内存中的特性的话,如果不是在数组的尾部 *插入* 或 *删除* 数据，那么数据会进行一次从数据插入点或删除点到数组末尾的数据大迁移。
##### 举个例子：
##### 我们现在有个数组 a[8]={ a , b , c , d , e };
##### 我们在c前面插入一个i，此时会得到一个a[8] = { a , b , i , c , d , e };
##### 把过程反过来就是在删除数据。
#### 改良思路：（注：改良思路并不是真的实现改良，只是在代码中出现相似场景时可以尝试的改良方法）
##### 针对插入的改良：如果对数据的位置没有很高的要求，可以将插入元素先插入到末尾或者替换掉要插入的位置，把被替换的数据插入到末尾。
##### 针对删除的改良：对于要删除的数据进行标记，当一段时间，或者有其他条件下进行一次性删除和迁移数据。（这也是JVM标记清除垃圾回收算法的核心思想）


![picture](https://github.com/laoniu12138/notehub/blob/master/picture/b69b8c5dbf6248649ddab7d3e7cfd7e5.jpg?raw=true)